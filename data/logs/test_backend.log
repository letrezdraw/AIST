[2026-01-16 12:51:42] [INFO   ] __main__ - ======================================================================
[2026-01-16 12:51:42] [INFO   ] __main__ - TEST BACKEND STT Starting...
[2026-01-16 12:51:42] [INFO   ] __main__ - ======================================================================
[2026-01-16 12:51:42] [INFO   ] __main__ - Command: test_tools/backend_stt.py --voice
[2026-01-16 12:51:42] [INFO   ] __main__ - Log file: data/logs/test_backend.log
[2026-01-16 12:51:42] [INFO   ] __main__ - 
[2026-01-16 12:51:42] [INFO   ] aist.core.config_manager - Successfully loaded configuration from 'config.yaml'.
[2026-01-16 12:51:43] [INFO   ] aist.core.ipc.event_bus - Event broadcaster started on tcp://*:5556
[2026-01-16 12:51:43] [INFO   ] __main__ - ‚úÖ Backend initialized - Voice mode: True
[2026-01-16 12:51:43] [INFO   ] __main__ - Setting up IPC...
[2026-01-16 12:51:43] [INFO   ] __main__ - ‚úÖ Test input listener on tcp://127.0.0.1:15555
[2026-01-16 12:51:43] [INFO   ] __main__ - ‚úÖ Test output broadcaster on tcp://127.0.0.1:15556

[2026-01-16 12:51:43] [INFO   ] __main__ - ======================================================================
[2026-01-16 12:51:43] [INFO   ] __main__ - COMPONENT SETUP
[2026-01-16 12:51:43] [INFO   ] __main__ - ======================================================================
[2026-01-16 12:51:43] [INFO   ] __main__ - üìã Configuration:
[2026-01-16 12:51:43] [INFO   ] __main__ -   LLM: ./data/models/llm/mistral-7b-instruct-v0.2.Q4_K_M.gguf
[2026-01-16 12:51:43] [INFO   ] __main__ -   TTS Provider: piper
[2026-01-16 12:51:43] [INFO   ] __main__ -   STT Provider: whisper
[2026-01-16 12:51:43] [INFO   ] __main__ -   Voice Mode: True

[2026-01-16 12:51:43] [INFO   ] __main__ - ü§ñ Loading LLM...
[2026-01-16 12:51:43] [INFO   ] aist.core.llm - Loading local AI model. This can take several minutes on the first run...
[2026-01-16 12:51:43] [INFO   ] aist.core.llm - Found local model at: ./data/models/llm/mistral-7b-instruct-v0.2.Q4_K_M.gguf
[2026-01-16 12:51:44] [INFO   ] aist.core.llm - AI Model loaded successfully.
[2026-01-16 12:51:44] [INFO   ] __main__ - ‚úÖ LLM loaded

[2026-01-16 12:51:44] [INFO   ] __main__ - üîä Loading TTS...
[2026-01-16 12:51:44] [INFO   ] aist.core.tts - Initializing TTS engine with provider: 'piper'
[2026-01-16 12:51:44] [INFO   ] aist.core.audio - Initializing shared PyAudio instance...
[2026-01-16 12:51:44] [INFO   ] aist.core.audio - Shared PyAudio instance initialized successfully.
[2026-01-16 12:51:44] [INFO   ] aist.tts_providers.piper_provider - Loading Piper TTS voice... This may take a moment.
[2026-01-16 12:51:45] [INFO   ] aist.tts_providers.piper_provider - Piper TTS voice loaded successfully.
[2026-01-16 12:51:45] [INFO   ] aist.core.tts - TTS provider 'piper' initialized.
[2026-01-16 12:51:45] [INFO   ] aist.core.tts - TTS engine is listening for 'tts.speak' events.
[2026-01-16 12:51:45] [INFO   ] __main__ - ‚úÖ TTS loaded

[2026-01-16 12:51:45] [INFO   ] __main__ - üé§ Starting STT initialization in background (30-second timeout)...
[2026-01-16 12:51:45] [INFO   ] __main__ -   [STT Thread] Starting...
[2026-01-16 12:51:45] [INFO   ] __main__ - ======================================================================
[2026-01-16 12:51:45] [INFO   ] __main__ - üöÄ READY - Listening for input
[2026-01-16 12:51:45] [INFO   ] __main__ - ======================================================================

[2026-01-16 12:51:45] [INFO   ] __main__ - Starting voice listener thread...
[2026-01-16 12:51:45] [INFO   ] __main__ - üé§ Voice input listener started
[2026-01-16 12:51:45] [INFO   ] __main__ - ‚úÖ Subscribed to speech events

[2026-01-16 12:51:46] [INFO   ] aist.stt_providers.whisper_provider - Checking for CUDA availability... torch.cuda.is_available() = False
[2026-01-16 12:51:46] [WARNING] aist.stt_providers.whisper_provider - CUDA device specified but not available. Falling back to CPU.
[2026-01-16 12:51:46] [INFO   ] aist.stt_providers.whisper_provider - Loading Whisper model 'medium.en' on device 'cpu'... This may take a moment.
[2026-01-16 12:51:46] [INFO   ] aist.stt_providers.whisper_provider - Model cache directory: E:\Project\AIST\data\models\stt
[2026-01-16 12:51:50] [INFO   ] aist.stt_providers.whisper_provider - Whisper model loaded successfully.
[2026-01-16 12:51:50] [INFO   ] __main__ -   [STT Thread] ‚úÖ Ready
[2026-01-16 12:51:50] [INFO   ] aist.stt_providers.whisper_provider - Microphone stream opened for Whisper.
[2026-01-16 12:52:24] [INFO   ] aist.stt_providers.whisper_provider - Whisper transcribed: 'Hello.'
[2026-01-16 12:52:24] [INFO   ] __main__ - üé§ Heard: 'Hello.'
[2026-01-16 12:52:24] [INFO   ] __main__ - Processing: 'Hello.'
[2026-01-16 12:52:24] [INFO   ] aist.core.llm - Sending prompt to LLM...
[2026-01-16 12:52:33] [INFO   ] __main__ - ‚úÖ Response: ' Hi there! I'm here to help answer any questions you might have. Feel free to as'...
[2026-01-16 12:52:33] [INFO   ] __main__ - üì§ Response sent to frontend
[2026-01-16 12:52:33] [INFO   ] __main__ - üéôÔ∏è  Speaking: ' Hi there! I'm here to help answer any questions you might h'...
[2026-01-16 12:52:33] [INFO   ] aist.tts_providers.piper_provider - AIST Speaking: " Hi there! I'm here to help answer any questions you might have. Feel free to ask anything you'd like to know. In the meantime, is there a specific topic or question you have in mind?"
[2026-01-16 12:52:33] [DEBUG  ] __main__ - ‚úÖ TTS message sent
[2026-01-16 12:52:33] [DEBUG  ] aist.stt_providers.whisper_provider - STT (Whisper) paused due to TTS activity.
[2026-01-16 12:52:44] [DEBUG  ] aist.stt_providers.whisper_provider - STT (Whisper) resumed after TTS activity.
[2026-01-16 12:53:10] [INFO   ] aist.stt_providers.whisper_provider - Whisper transcribed: 'LeBlanc, 2 hours 4 hours Mondaysolo The encouraged'
[2026-01-16 12:53:10] [INFO   ] __main__ - üé§ Heard: 'LeBlanc, 2 hours 4 hours Mondaysolo The encouraged'
[2026-01-16 12:53:10] [INFO   ] __main__ - Processing: 'LeBlanc, 2 hours 4 hours Mondaysolo The encouraged'
[2026-01-16 12:53:10] [INFO   ] aist.core.llm - Sending prompt to LLM...
[2026-01-16 12:53:25] [INFO   ] __main__ - ‚úÖ Response: ' It appears the user is asking about LeBlanc's schedule for solo performances on'...
[2026-01-16 12:53:25] [INFO   ] __main__ - üì§ Response sent to frontend
[2026-01-16 12:53:25] [INFO   ] __main__ - üéôÔ∏è  Speaking: ' It appears the user is asking about LeBlanc's schedule for '...
[2026-01-16 12:53:25] [INFO   ] aist.tts_providers.piper_provider - AIST Speaking: " It appears the user is asking about LeBlanc's schedule for solo performances on Mondays, with a duration of 2 hours each event and one performance occurring every four hours. Therefore, LeBlanc performs a solo concert every 2 hours and 4 minutes (2 hours + 4 minutes = 2 hours 4 minutes) on Monday. The next performance would be approximately 2 hours and 4 minutes after the last one."
[2026-01-16 12:53:25] [DEBUG  ] __main__ - ‚úÖ TTS message sent
[2026-01-16 12:53:25] [DEBUG  ] aist.stt_providers.whisper_provider - STT (Whisper) paused due to TTS activity.
[2026-01-16 12:53:48] [DEBUG  ] aist.stt_providers.whisper_provider - STT (Whisper) resumed after TTS activity.
[2026-01-16 12:54:13] [INFO   ] aist.stt_providers.whisper_provider - Whisper transcribed: 'counselors'
[2026-01-16 12:54:13] [INFO   ] __main__ - üé§ Heard: 'counselors'
[2026-01-16 12:54:13] [INFO   ] __main__ - Processing: 'counselors'
[2026-01-16 12:54:13] [INFO   ] aist.core.llm - Sending prompt to LLM...
[2026-01-16 12:54:28] [INFO   ] __main__ - ‚úÖ Response: ' I apologize for any confusion earlier. Regarding your query about LeBlanc's sch'...
[2026-01-16 12:54:28] [INFO   ] __main__ - üì§ Response sent to frontend
[2026-01-16 12:54:28] [INFO   ] __main__ - üéôÔ∏è  Speaking: ' I apologize for any confusion earlier. Regarding your query'...
[2026-01-16 12:54:28] [INFO   ] aist.tts_providers.piper_provider - AIST Speaking: " I apologize for any confusion earlier. Regarding your query about LeBlanc's schedule for solo performances on Mondays as counselors, the information provided indicates that LeBlanc performs a solo concert every 2 hours and 4 minutes on Monday. So, there is no mention of LeBlanc acting as counselors during these performances."
[2026-01-16 12:54:28] [DEBUG  ] __main__ - ‚úÖ TTS message sent
[2026-01-16 12:54:28] [DEBUG  ] aist.stt_providers.whisper_provider - STT (Whisper) paused due to TTS activity.
[2026-01-16 12:54:37] [INFO   ] __main__ - 
üëã Keyboard interrupt
[2026-01-16 12:54:37] [INFO   ] __main__ - Cleaning up...
[2026-01-16 12:54:37] [INFO   ] aist.core.ipc.event_bus - Event broadcaster stopped.
[2026-01-16 12:54:37] [INFO   ] __main__ - ‚úÖ Cleanup complete
[2026-01-16 12:54:37] [INFO   ] __main__ - ======================================================================

[2026-01-16 12:55:20] [INFO   ] __main__ - ======================================================================
[2026-01-16 12:55:20] [INFO   ] __main__ - TEST BACKEND STT Starting...
[2026-01-16 12:55:20] [INFO   ] __main__ - ======================================================================
[2026-01-16 12:55:20] [INFO   ] __main__ - Command: test_tools/backend_stt.py --voice
[2026-01-16 12:55:20] [INFO   ] __main__ - Log file: data/logs/test_backend.log
[2026-01-16 12:55:20] [INFO   ] __main__ - 
[2026-01-16 12:55:20] [INFO   ] aist.core.config_manager - Successfully loaded configuration from 'config.yaml'.
[2026-01-16 12:55:20] [INFO   ] aist.core.ipc.event_bus - Event broadcaster started on tcp://*:5556
[2026-01-16 12:55:20] [INFO   ] __main__ - ‚úÖ Backend initialized - Voice mode: True
[2026-01-16 12:55:20] [INFO   ] __main__ - Setting up IPC...
[2026-01-16 12:55:20] [INFO   ] __main__ - ‚úÖ Test input listener on tcp://127.0.0.1:15555
[2026-01-16 12:55:20] [INFO   ] __main__ - ‚úÖ Test output broadcaster on tcp://127.0.0.1:15556

[2026-01-16 12:55:20] [INFO   ] __main__ - ======================================================================
[2026-01-16 12:55:20] [INFO   ] __main__ - COMPONENT SETUP
[2026-01-16 12:55:20] [INFO   ] __main__ - ======================================================================
[2026-01-16 12:55:20] [INFO   ] __main__ - üìã Configuration:
[2026-01-16 12:55:20] [INFO   ] __main__ -   LLM: ./data/models/llm/mistral-7b-instruct-v0.2.Q4_K_M.gguf
[2026-01-16 12:55:20] [INFO   ] __main__ -   TTS Provider: piper
[2026-01-16 12:55:20] [INFO   ] __main__ -   STT Provider: vosk
[2026-01-16 12:55:20] [INFO   ] __main__ -   Voice Mode: True

[2026-01-16 12:55:20] [INFO   ] __main__ - ü§ñ Loading LLM...
[2026-01-16 12:55:20] [INFO   ] aist.core.llm - Loading local AI model. This can take several minutes on the first run...
[2026-01-16 12:55:20] [INFO   ] aist.core.llm - Found local model at: ./data/models/llm/mistral-7b-instruct-v0.2.Q4_K_M.gguf
[2026-01-16 12:55:22] [INFO   ] aist.core.llm - AI Model loaded successfully.
[2026-01-16 12:55:22] [INFO   ] __main__ - ‚úÖ LLM loaded

[2026-01-16 12:55:22] [INFO   ] __main__ - üîä Loading TTS...
[2026-01-16 12:55:22] [INFO   ] aist.core.tts - Initializing TTS engine with provider: 'piper'
[2026-01-16 12:55:22] [INFO   ] aist.core.audio - Initializing shared PyAudio instance...
[2026-01-16 12:55:22] [INFO   ] aist.core.audio - Shared PyAudio instance initialized successfully.
[2026-01-16 12:55:22] [INFO   ] aist.tts_providers.piper_provider - Loading Piper TTS voice... This may take a moment.
[2026-01-16 12:55:23] [INFO   ] aist.tts_providers.piper_provider - Piper TTS voice loaded successfully.
[2026-01-16 12:55:23] [INFO   ] aist.core.tts - TTS provider 'piper' initialized.
[2026-01-16 12:55:23] [INFO   ] aist.core.tts - TTS engine is listening for 'tts.speak' events.
[2026-01-16 12:55:23] [INFO   ] __main__ - ‚úÖ TTS loaded

[2026-01-16 12:55:23] [INFO   ] __main__ - üé§ Starting STT initialization in background (30-second timeout)...
[2026-01-16 12:55:23] [INFO   ] __main__ -   [STT Thread] Starting...
[2026-01-16 12:55:23] [INFO   ] __main__ - ======================================================================
[2026-01-16 12:55:23] [INFO   ] __main__ - üöÄ READY - Listening for input
[2026-01-16 12:55:23] [INFO   ] __main__ - ======================================================================

[2026-01-16 12:55:23] [INFO   ] __main__ - Starting voice listener thread...
[2026-01-16 12:55:23] [INFO   ] __main__ - üé§ Voice input listener started
[2026-01-16 12:55:23] [INFO   ] __main__ - ‚úÖ Subscribed to speech events

[2026-01-16 12:55:23] [INFO   ] __main__ -   [STT Thread] ‚úÖ Ready
[2026-01-16 12:55:23] [INFO   ] aist.stt_providers.vosk_provider - Loading Vosk model from 'data/models/stt/vosk-model-en-us-0.22'...
[2026-01-16 12:55:24] [INFO   ] __main__ - ======================================================================
[2026-01-16 12:55:24] [INFO   ] __main__ - TEST BACKEND STT Starting...
[2026-01-16 12:55:24] [INFO   ] __main__ - ======================================================================
[2026-01-16 12:55:24] [INFO   ] __main__ - Command: test_tools/backend_stt.py --voice
[2026-01-16 12:55:24] [INFO   ] __main__ - Log file: data/logs/test_backend.log
[2026-01-16 12:55:24] [INFO   ] __main__ - 
[2026-01-16 12:55:24] [INFO   ] aist.core.config_manager - Successfully loaded configuration from 'config.yaml'.
[2026-01-16 12:55:39] [INFO   ] aist.stt_providers.vosk_provider - Vosk model loaded successfully.
[2026-01-16 12:55:39] [INFO   ] aist.stt_providers.vosk_provider - Vosk recognizers (Dormant and Listening) created successfully.
[2026-01-16 12:55:39] [INFO   ] aist.stt_providers.vosk_provider - Microphone stream opened for Vosk.
[2026-01-16 12:56:26] [INFO   ] __main__ - üì• Text input: 'hello'
[2026-01-16 12:56:26] [INFO   ] __main__ - Processing: 'hello'
[2026-01-16 12:56:26] [INFO   ] aist.core.llm - Sending prompt to LLM...
[2026-01-16 12:56:35] [INFO   ] __main__ - ‚úÖ Response: ' Hello there! How can I assist you today? If you have any specific question or r'...
[2026-01-16 12:56:35] [INFO   ] __main__ - üì§ Response sent to frontend
[2026-01-16 12:56:35] [INFO   ] __main__ - üéôÔ∏è  Speaking: ' Hello there! How can I assist you today? If you have any sp'...
[2026-01-16 12:56:35] [INFO   ] aist.tts_providers.piper_provider - AIST Speaking: " Hello there! How can I assist you today? If you have any specific question or request, please let me know. Otherwise, feel free to share some topic of interest or just say hi. I'm here to help!"
[2026-01-16 12:56:35] [DEBUG  ] __main__ - ‚úÖ TTS message sent
[2026-01-16 12:56:35] [DEBUG  ] aist.stt_providers.vosk_provider - STT paused and recognizers reset due to TTS activity.
[2026-01-16 12:56:48] [DEBUG  ] aist.stt_providers.vosk_provider - STT resumed after TTS activity.
[2026-01-16 12:58:40] [INFO   ] __main__ - 
üëã Keyboard interrupt
[2026-01-16 12:58:40] [INFO   ] __main__ - Cleaning up...
[2026-01-16 12:58:40] [INFO   ] aist.core.ipc.event_bus - Event broadcaster stopped.
[2026-01-16 12:58:40] [INFO   ] __main__ - ‚úÖ Cleanup complete
[2026-01-16 12:58:40] [INFO   ] __main__ - ======================================================================

